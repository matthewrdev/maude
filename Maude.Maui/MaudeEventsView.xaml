<?xml version="1.0" encoding="utf-8"?>

<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:maude="clr-namespace:Maude;assembly=Maude"
             x:Name="self"
             x:Class="Maude.MaudeEventsView">

    <CollectionView x:Name="eventsCollection"
                    ItemsSource="{Binding VisibleEvents, Source={x:Reference self}}"
                    SelectionMode="None"
                    Margin="0,8,0,0">
                   <CollectionView.EmptyView>
            <Label Text="No events captured yet."
                   HorizontalTextAlignment="Center"
                   Margin="0,12"
                   TextColor="#747474"/>
        </CollectionView.EmptyView>
        
        <CollectionView.ItemTemplate>
            <DataTemplate>
                <Grid ColumnDefinitions="Auto,*,Auto"
                      Padding="4,12"
                      x:DataType="maude:MaudeEventDisplay"
                      ColumnSpacing="12">
                    
                    <Label Text="{Binding Symbol}"
                           FontSize="20"
                           TextColor="{Binding ChannelColor}"
                           VerticalOptions="Center"/>

                    <VerticalStackLayout Grid.Column="1" Spacing="2">
                        <Label Text="{Binding Label}"
                               FontAttributes="Bold"
                               TextColor="#1a1a1a"/>
                        <Label Text="{Binding Details}"
                               IsVisible="{Binding HasDetails}"
                               LineBreakMode="WordWrap"
                               TextColor="#2f2f2f"/>
                        <Label Text="{Binding Timestamp}"
                               FontSize="12"
                               TextColor="#6b6b6b"/>
                    </VerticalStackLayout>

                </Grid>
            </DataTemplate>
        </CollectionView.ItemTemplate>
    </CollectionView>
</ContentView>
